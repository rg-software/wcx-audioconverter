#ifndef __settingsdialog__
#define __settingsdialog__

#include <wx/fileconf.h>
#include <string>
/**
@file
Subclass of SettingsDialogGui, which is generated by wxFormBuilder.
*/

#include "gui.h"
#include "ini.h"
//// end generated include

/** Implementing SettingsDialogGui */
class SettingsDialog : public SettingsDialogGui
{
public:
	SettingsDialog(wxWindow* parent, const std::string& iniPath);

	bool AlwaysShow() const { return chkAlwaysShow->IsChecked(); }

private:
	mINI::INIFile mIniFile;
	mINI::INIStructure mConfig;

	void setDialogItemFromConfig(const std::string& key, bool defValue, wxCheckBox* chkBox);
	void setDialogItemFromConfig(const std::string& key, const std::string& defValues,
								 const std::string& defValueKey, int defValueIndex, wxChoice* cbChoice);

protected:
	virtual void btnOK_Click(wxCommandEvent& event);
};

#endif // __settingsdialog__
